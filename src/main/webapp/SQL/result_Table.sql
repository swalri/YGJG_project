--회원 찜목록 테이블
CREATE TABLE MEMBER_WISHLIST(
    MEM_ID VARCHAR2(255 CHAR), --회원 아이디 ->member.username
    WISHLIST_LODGING_ID VARCHAR2(255 CHAR), -- 숙소 아이디
    WISHLIST_ROOM_ID VARCHAR2(255 CHAR) -- 방 아이디
);

--쿠폰 테이블
CREATE TABLE COUPON(
    CP_ID VARCHAR2(255 CHAR) PRIMARY KEY, --쿠폰 아이디
    CP_NAME VARCHAR2(255 CHAR)NOT NULL, --쿠폰 이름
    CP_DETAIL VARCHAR2(500 CHAR) NOT NULL, --쿠폰 내용
    CP_PRICE INT NOT NULL, --쿠폰 금액
    CP_STARTDATE DATE DEFAULT SYSDATE, --시작 날짜
    CP_ENDDATE DATE, --종료 날짜
 --쿠폰 상태
    CP_STATUS NUMBER(1) DEFAULT 1
);

--회원이 가지고있는 쿠폰
CREATE TABLE MEM_CP(
    MEM_ID VARCHAR2(255 CHAR), --회원 아이디
    CP_ID VARCHAR2(255 CHAR), --쿠폰 아이디
    CP_USE NUMBER(1) DEFAULT 1, -- 쿠폰 사용여부 가능시 1 불가능시 0
    FOREIGN KEY (CP_ID) REFERENCES COUPON(CP_ID)
);

--숙소 정보 테이블
CREATE TABLE LODGING( -- Hotel Motel Pension
    LODGING_ID VARCHAR2(255 CHAR) PRIMARY KEY, -- 숙소 아이디
    LODGING_TYPE VARCHAR2(50 CHAR) NOT NULL, -- 숙소 종류 (hotel, motel, pool, pension)
    LODGING_NAME VARCHAR2(50 CHAR) NOT NULL, -- 숙소 이름db
    LODGING_PHONE VARCHAR2(20 CHAR) NOT NULL, -- 숙소 전화번호
    LODGING_EMAIL VARCHAR2(50 CHAR), -- 숙소 이메일
    LODGING_IMG VARCHAR2(500 CHAR), -- 숙소 이미지
    LODGING_DESCRIPTION NUMBER(5, 1) -- 별점 5자리까지 가능 및 소수점 한자리까지 사용가능
);

--레저 테이블
CREATE TABLE LEISURE(
    LEISURE_ID VARCHAR2(255 CHAR) PRIMARY KEY, --레저 아이디
    LEISURE_NAME VARCHAR2(50 CHAR) NOT NULL, -- 레저 이름
    LEISURE_PRICE INT NOT NULL, --레저 가격
    LEISURE_IMG VARCHAR2(500 CHAR) NOT NULL, --  레저 이미지
    LEISURE_DESCRIPTION NUMBER(5, 1) -- 별점 5자리까지 가능 및 소수점 한자리까지 사용가능
);

--숙소 방 정보
CREATE TABLE LD_ROOM(
    LODGING_ID VARCHAR2(255 CHAR), -- 숙소 아이디 : foreign key
    ROOM_ID VARCHAR2(255 CHAR), -- 방 아이디
    ROOM_NAME VARCHAR2(50 CHAR) NOT NULL, -- 방 이름
    ROOM_IMG VARCHAR2(500 CHAR), -- 방 이미지
    ROOM_DETAIL VARCHAR2(500 CHAR), -- 방 내용
    ROOM_COUNT NUMBER, --방 인원
    ROOM_DAY_PRICE NUMBER, --숙박 가격
    ROOM_TIME_PRICE NUMBER, --대실 가격
    FOREIGN KEY(LODGING_ID) REFERENCES LODGING(LODGING_ID)
);

--공지 테이블
CREATE TABLE GONGJI(
    GONGJI_NO VARCHAR2(255 CHAR), -- 공지번호
    GONGJI_NAME VARCHAR2(50 CHAR) NOT NULL, -- 공지 작성자
    GONGJI_TITLE VARCHAR2(50 CHAR) NOT NULL, --공지 제목
    GONGJI_CONT VARCHAR2(500 CHAR) NOT NULL, --공지 내용
    GONGJI_HIT NUMBER(1) DEFAULT 1, --조회수
    GONGJI_DATE DATE DEFAULT SYSDATE --등록날짜
);

--공지 시퀀스
CREATE SEQUENCE GONGJI_SEQ --시퀀스 생성
MINVALUE 1 --최소값
MAXVALUE 100000000 --100,000,000
INCREMENT BY 1 --증가값
START WITH 1 --시작값
NOCACHE
NOCYCLE;

--레저구매 테이블
CREATE TABLE PAYMENT_RECORDS_LEISURE (
    "RECORD_ID" NUMBER,
    "ORDERNAME" VARCHAR2(255 BYTE),
    "METHOD" VARCHAR2(50 BYTE),
    "TOTALAMOUNT" NUMBER,
    "PAYMENT_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP,
    "LEISURE_ID" VARCHAR2(255 BYTE),
    PRIMARY KEY ("RECORD_ID")
);

--숙소 예약 테이블
CREATE TABLE PAYMENT_RECORDS_LODGING (
    "RECORD_ID" NUMBER NOT NULL ENABLE,
    "ORDERNAME" VARCHAR2(255 BYTE),
    "METHOD" VARCHAR2(50 BYTE),
    "TOTALAMOUNT" NUMBER,
    "PAYMENT_DATE" TIMESTAMP (6) DEFAULT CURRENT_TIMESTAMP,
    "LODGING_ID" VARCHAR2(255 BYTE),
    "ROOM_ID" VARCHAR2(255 BYTE),
    "CHECK_IN" DATE,
    "CHECK_OUT" DATE,
    "PEOPLE_NUM" NUMBER,
    CONSTRAINT "PAYMENT_RECORDS_LODGING_PK" PRIMARY KEY ("RECORD_ID")
);

--결제 테이블 시퀀스
CREATE SEQUENCE PAYMENT_RECORDS_SEQUENCE
MINVALUE 1
MAXVALUE 9999999999999999999999999999
INCREMENT BY 1
START WITH 41
CACHE 20
NOORDER
NOCYCLE;